<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>모빌리티 통합 플랫폼</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="app-container">
        <!-- 헤더 -->
        <header class="header">
            <div class="logo">🚗 모빌리티 통합 플랫폼</div>
            <nav class="nav-menu">
                <button class="nav-btn active" data-tab="parking">주차</button>
                <button class="nav-btn" data-tab="route">경로</button>
                <button class="nav-btn" data-tab="travel">여행</button>
                <button class="nav-btn" data-tab="complaint">민원</button>
                <button class="nav-btn" data-tab="info">안내</button>
                <button class="nav-btn" data-tab="booking">예약</button>
            </nav>
        </header>

        <!-- 메인 컨테이너 -->
        <div class="main-container">
            <!-- 지도 영역 -->
            <div class="map-section">
                <div id="map"></div>
                <div class="map-controls">
                    <button class="control-btn" id="currentLocation">📍 현재 위치</button>
                    <button class="control-btn" id="refreshData">🔄 새로고침</button>
                </div>
            </div>

            <!-- 사이드바 -->
            <div class="sidebar">
                <!-- 주차 탭 -->
                <div class="tab-content active" id="parking-tab">
                    <h2>🅿️ 주차장 찾기</h2>
                    <div class="search-box">
                        <input type="text" id="parkingSearch" placeholder="주차장 검색...">
                        <button class="search-btn">🔍</button>
                    </div>
                    
                    <div class="filter-section">
                        <label>
                            <input type="checkbox" id="filterAvailable"> 빈 자리만 보기
                        </label>
                    </div>

                    <div class="parking-list" id="parkingList">
                        <!-- 동적으로 생성됨 -->
                    </div>
                </div>

                <!-- 경로 탭 -->
                <div class="tab-content" id="route-tab">
                    <h2>🗺️ 경로 안내</h2>
                    <div class="route-form">
                        <div class="form-group">
                            <label>출발지</label>
                            <input type="text" id="routeStart" placeholder="현재 위치">
                        </div>
                        <div class="form-group">
                            <label>도착지</label>
                            <input type="text" id="routeEnd" placeholder="도착지 입력">
                        </div>
                        <div class="form-group">
                            <label>교통수단</label>
                            <select id="transportMode">
                                <option value="car">자동차</option>
                                <option value="walk">도보</option>
                                <option value="bike">자전거</option>
                            </select>
                        </div>
                        <button class="primary-btn" id="findRoute">경로 찾기</button>
                    </div>
                    <div class="route-result" id="routeResult"></div>
                </div>

                <!-- 여행 목적별 추천 탭 -->
                <div class="tab-content" id="travel-tab">
                    <h2>✈️ 목적별 여행 추천</h2>
                    
                    <!-- 목적 선택 -->
                    <div class="purpose-section">
                        <label>이동 목적을 선택하세요</label>
                        <div class="purpose-buttons">
                            <button class="purpose-btn" data-purpose="business">💼 출장</button>
                            <button class="purpose-btn" data-purpose="travel">🏖️ 여행</button>
                            <button class="purpose-btn" data-purpose="dining">🍽️ 식사</button>
                        </div>
                    </div>

                    <!-- 추천 결과 -->
                    <div class="recommendations-container" id="recommendationList">
                        <p style="padding: 1rem; text-align: center; color: #6b7280;">
                            위에서 목적을 선택하면 맞춤 추천을 확인할 수 있습니다.
                        </p>
                    </div>
                </div>

                <!-- 민원 탭 -->
                <div class="tab-content" id="complaint-tab">
                    <h2>📝 민원 신고</h2>
                    <div class="complaint-form">
                        <div class="form-group">
                            <label>민원 유형</label>
                            <select id="complaintType">
                                <option value="parking">불법 주차</option>
                                <option value="road">도로 파손</option>
                                <option value="traffic">교통 신호</option>
                                <option value="other">기타</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>위치</label>
                            <input type="text" id="complaintLocation" placeholder="지도에서 선택하거나 직접 입력">
                            <button class="secondary-btn" id="selectLocation">지도에서 선택</button>
                        </div>
                        <div class="form-group">
                            <label>설명</label>
                            <textarea id="complaintDesc" rows="4" placeholder="민원 내용을 자세히 입력해주세요"></textarea>
                        </div>
                        <div class="form-group">
                            <label>사진 첨부</label>
                            <input type="file" id="complaintPhoto" accept="image/*">
                        </div>
                        <button class="primary-btn" id="submitComplaint">신고 접수</button>
                    </div>
                    <div class="complaint-history" id="complaintHistory">
                        <h3>내 신고 내역</h3>
                        <div id="historyList"></div>
                    </div>
                </div>

                <!-- 안내 탭 -->
                <div class="tab-content" id="info-tab">
                    <h2>ℹ️ 주변 안내</h2>
                    <div class="info-categories">
                        <button class="category-btn" data-category="gas">⛽ 주유소</button>
                        <button class="category-btn" data-category="hospital">🏥 병원</button>
                        <button class="category-btn" data-category="restaurant">🍴 음식점</button>
                        <button class="category-btn" data-category="cafe">☕ 카페</button>
                        <button class="category-btn" data-category="store">🏪 편의점</button>
                    </div>
                    <div class="info-list" id="infoList">
                        <!-- 동적으로 생성됨 -->
                    </div>
                </div>

                <!-- 예약 탭 -->
                <div class="tab-content" id="booking-tab">
                    <h2>📅 예약 관리</h2>
                    <div class="booking-form">
                        <div class="form-group">
                            <label>예약 유형</label>
                            <select id="bookingType">
                                <option value="parking">주차장 예약</option>
                                <option value="charging">전기차 충전</option>
                                <option value="carwash">세차</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>시설 선택</label>
                            <select id="facilitySelect">
                                <option value="">시설을 선택하세요</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>날짜</label>
                            <input type="date" id="bookingDate">
                        </div>
                        <div class="form-group">
                            <label>시간</label>
                            <input type="time" id="bookingTime">
                        </div>
                        <div class="form-group">
                            <label>이용 시간</label>
                            <select id="bookingDuration">
                                <option value="1">1시간</option>
                                <option value="2">2시간</option>
                                <option value="3">3시간</option>
                                <option value="4">4시간</option>
                                <option value="day">종일</option>
                            </select>
                        </div>
                        <button class="primary-btn" id="submitBooking">예약하기</button>
                    </div>
                    <div class="booking-list" id="bookingList">
                        <h3>예약 내역</h3>
                        <div id="myBookings"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- 통계 패널 -->
        <div class="stats-panel">
            <div class="stat-card">
                <div class="stat-value" id="totalParking">128</div>
                <div class="stat-label">전체 주차장</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="availableSpots">342</div>
                <div class="stat-label">이용 가능</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="activeComplaints">7</div>
                <div class="stat-label">처리 중 민원</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="todayBookings">23</div>
                <div class="stat-label">오늘 예약</div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="/main.js"></script>
</body>
</html>
